<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Run Load Flow</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playball&display=swap" rel="stylesheet"> 
</head>
<body>

    <!-- header -->
    <div class="header">
       <div class="combobox">
            <div class="province">
                <label for="options">Province:</label>
                <select id="provinceSelected">
                    <option value="11.5564, 104.9282" selected>Phnom Penh</option> <!--default location-->
                    <option value="13.3667, 103.8667">Siem Reap</option>
                    <option value="13.0950, 103.2100">Battambang</option>
                    <option value="10.6270, 103.5220">Sihanoukville</option>
                    <option value="12.0000, 105.4500">Kampong Cham</option>
                    <option value="12.2500, 104.6667">Kampong Chhnang</option>
                    <option value="11.4500, 104.3333">Kampong Speu</option>
                    <option value="12.7100, 104.8900">Kampong Thom</option>
                    <option value="10.6080, 104.1780">Kampot</option>
                    <option value="10.5360, 104.3559">Kep</option>
                    <option value="11.4600, 104.6000">Kandal</option>
                    <option value="11.6175, 103.0369">Koh Kong</option>
                    <option value="12.4881, 106.0188">Kratie</option>
                    <option value="12.4500, 107.2000">Mondulkiri</option>
                    <option value="14.0085, 104.8454">Preah Vihear</option>
                    <option value="11.5000, 105.3333">Prey Veng</option>
                    <option value="12.5333, 103.9167">Pursat</option>
                    <option value="13.7500, 107.0000">Ratanakiri</option>
                    <option value="13.5167, 105.9667">Stung Treng</option>
                    <option value="11.0833, 105.8000">Svay Rieng</option>
                    <option value="10.9900, 104.7800">Takeo</option>
                    <option value="12.9092, 102.6675">Pailin</option>
                    <option value="13.7531, 102.9896">Banteay Meanchey</option>
                    <option value="14.1609, 103.8216">Oddar Meanchey</option>
                    <option value="11.9056, 105.6414">Tboung Khmum</option>
                </select>
            </div>
            <div class="networkType">
                <button class="toolbarButton" value="Slack" id="Slack"><span style='color:#0A5EB0;'>&#127330;</span> Slack</button>
                <!-- <button class="toolbarButton" value="Bus" id="Bus"><span>&#128308;</span> Bus</button>   -->
                <button class="toolbarButton" value="Generator" id="Generator"><span style='color:#CD1818;'>&#127318;</span> Generator</button>
                <button class="toolbarButton" value="Transformer" id="Transformer"><span style='color:#de4301;'>&#127331;</span> Transformer</button>
                <button class="toolbarButton" value="Load" id="Load"><span style='color:#656d1c;'>&#127323;</span> Load</button>
                <button class="CableButton" value="Cable" id="Cable"><span>&#10231;</span> Cable</button>
                <button class="toolbarButton" value="PV" id="PV"><span style='color:#492E87;'>&#127327;</span> PV</button>
                <button class="toolbarButton" value="Battery" id="Battery"><span style='color:#1b6c64;'>&#127313;</span> Battery</button>
            </div>
       </div>
       <div class="headerButton">
            <button id="edit">&#128393;</button>
            <button id="remove">&#128465;</button>
            <button id="refresh">&#8635;</button>
            <button id="runLoadFlow">&#9655;</button>
       </div>
    </div>

    <!-- display map -->
    <div id="map"></div>
    
    <div id="dataForm"></div>

    <!-- Modal for Load Flow Results -->
    <div id="loadFlowModal" class="modal" style="display:none;">
    <div class="modal-content">
        <span class="close" id="closeModal">&times;</span>
        <h4>Line Flow and Losses</h4>
        <div id="lineResults"></div>
        <!-- <div id="lossesResult" style="margin-top:20px; margin-bottom: 20px;"></div> -->
        <h4>Bus Voltages and Power Injections</h4>
        <div id="voltagesResult"></div>
        <div id="loadFlowSummary" style="margin-top:20px; margin-bottom: 20px;"></div>
    </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>



